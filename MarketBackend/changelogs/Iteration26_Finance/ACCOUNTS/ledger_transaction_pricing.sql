ALTER TABLE ledger_transaction_rule_funding
 ADD pricing_expression VARCHAR(255) AFTER ledger_entry_rule_id;


CREATE TABLE `ledger_transaction_pricing` (
  `ledger_entry_rule_id` int(10) unsigned NOT NULL,
  `pricing_expression` varchar(255) default NULL,
  `created_date` datetime default NULL,
  `modified_date` datetime default NULL,
  `modified_by` varchar(30) default NULL,
  UNIQUE KEY `ledger_entry_rule_id` (`ledger_entry_rule_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

/*Data for the table `ledger_transaction_pricing` */

insert  into `ledger_transaction_pricing`(`ledger_entry_rule_id`,`pricing_expression`,`created_date`,`modified_date`,`modified_by`) values (1000,'TRANSFER_AMOUNT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1001,'TRANSFER_AMOUNT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1002,'TRANSFER_AMOUNT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1003,'TRANSFER_AMOUNT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1004,'TRANSFER_AMOUNT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1010,'LABOUR_SPEND_LIMIT+PARTS_SPEND_LIMIT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1100,'POSTING_FEE','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1101,'POSTING_FEE','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1110,'POSTING_FEE','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1120,'LABOUR_SPEND_LIMIT+PARTS_SPEND_LIMIT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1121,'ACH_AMOUNT','2008-12-29 12:01:47','2008-12-29 12:01:47','paugus2'),(1122,'ACH_AMOUNT','2008-12-29 12:01:47','2008-12-29 12:01:47','paugus2'),(1200,'USER_ENTERED','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1210,'DEPOSIT_AMOUNT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1250,'USER_ENTERED','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1260,'USER_ENTERED','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1300,'CANCELLATION_FEE','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1301,'CANCELLATION_FEE','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1310,'LABOUR_SPEND_LIMIT+PARTS_SPEND_LIMIT+UPSELL_PROVIDER_TOTAL-CANCELLATION_FEE','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1330,'CANCELLATION_FEE','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1340,'RETAIL_CANCELLATION_FEE','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1350,'LABOUR_SPEND_LIMIT+PARTS_SPEND_LIMIT-FINAL_LABOUR-FINAL_PARTS','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1360,'LABOUR_SPEND_LIMIT+PARTS_SPEND_LIMIT+UPSELL_PROVIDER_TOTAL','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1365,'LABOUR_SPEND_LIMIT+PARTS_SPEND_LIMIT','2008-12-29 12:01:47','2008-12-29 12:01:47','paugus2'),(1366,'LABOUR_SPEND_LIMIT+PARTS_SPEND_LIMIT','2008-12-29 12:01:47','2008-12-29 12:01:47','paugus2'),(1370,'LABOUR_SPEND_LIMIT+PARTS_SPEND_LIMIT+UPSELL_PROVIDER_TOTAL','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1380,'LABOUR_SPEND_LIMIT+PARTS_SPEND_LIMIT+UPSELL_PROVIDER_TOTAL','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1385,'LABOUR_SPEND_LIMIT+PARTS_SPEND_LIMIT','2008-12-29 12:01:48','2008-12-29 12:01:48','paugus2'),(1386,'LABOUR_SPEND_LIMIT+PARTS_SPEND_LIMIT','2008-12-29 12:01:47','2008-12-29 12:01:47','paugus2'),(1390,'LABOUR_SPEND_LIMIT+PARTS_SPEND_LIMIT+UPSELL_PROVIDER_TOTAL','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1395,'LABOUR_SPEND_LIMIT+PARTS_SPEND_LIMIT+UPSELL_PROVIDER_TOTAL','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1396,'LABOUR_SPEND_LIMIT+PARTS_SPEND_LIMIT','2008-12-29 12:01:48','2008-12-29 12:01:48','paugus2'),(1397,'LABOUR_SPEND_LIMIT+PARTS_SPEND_LIMIT','2008-12-29 12:01:48','2008-12-29 12:01:48','paugus2'),(1400,'FINAL_LABOUR+FINAL_PARTS+UPSELL_PROVIDER_TOTAL-FINAL_SERVICE_FEE-UPSELL_SERVICE_FEE','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1401,'FINAL_LABOUR+FINAL_PARTS+UPSELL_PROVIDER_TOTAL-FINAL_SERVICE_FEE-UPSELL_SERVICE_FEE','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1405,'FINAL_LABOUR+FINAL_PARTS+UPSELL_PROVIDER_TOTAL','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1410,'FINAL_SERVICE_FEE+UPSELL_SERVICE_FEE','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1411,'FINAL_SERVICE_FEE+UPSELL_SERVICE_FEE','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1420,'LABOUR_SPEND_LIMIT+PARTS_SPEND_LIMIT-FINAL_LABOUR-FINAL_PARTS','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1430,'FINAL_SERVICE_FEE+UPSELL_SERVICE_FEE','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1440,'FINAL_LABOUR+FINAL_PARTS+UPSELL_PROVIDER_TOTAL-FINAL_SERVICE_FEE-UPSELL_SERVICE_FEE','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1450,'RETAIL_SO_PRICE','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1460,'LABOUR_SPEND_LIMIT+PARTS_SPEND_LIMIT+UPSELL_PROVIDER_TOTAL','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(1470,'LABOUR_SPEND_LIMIT+PARTS_SPEND_LIMIT-FINAL_LABOUR-FINAL_PARTS','2008-12-29 12:01:47','2008-12-29 12:01:47','paugus2'),(1480,'LABOUR_SPEND_LIMIT+PARTS_SPEND_LIMIT-FINAL_LABOUR-FINAL_PARTS','2008-12-29 12:01:47','2008-12-29 12:01:47','paugus2'),(2000,'TRANSFER_AMOUNT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(2010,'TRANSFER_AMOUNT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(2020,'TRANSFER_AMOUNT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(5000,'TRANSFER_AMOUNT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(5010,'TRANSFER_AMOUNT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(5020,'TRANSFER_AMOUNT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(5100,'TRANSFER_AMOUNT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(5110,'TRANSFER_AMOUNT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(5300,'TRANSFER_AMOUNT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(5400,'TRANSFER_AMOUNT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(5500,'TRANSFER_AMOUNT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(5600,'TRANSFER_AMOUNT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(10001,'TRANSFER_AMOUNT','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(10002,'FINAL_SERVICE_FEE+UPSELL_SERVICE_FEE','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(10003,'FINAL_SERVICE_FEE+UPSELL_SERVICE_FEE','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(10005,'FINAL_LABOUR+FINAL_PARTS+UPSELL_PROVIDER_TOTAL-FINAL_SERVICE_FEE-UPSELL_SERVICE_FEE','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02'),(10006,'FINAL_LABOUR+FINAL_PARTS+UPSELL_PROVIDER_TOTAL-FINAL_SERVICE_FEE-UPSELL_SERVICE_FEE','2008-12-16 14:47:50','2008-12-16 14:47:50','swilk02');


Update ledger_transaction_rule_funding a, ledger_transaction_pricing b set a.pricing_expression = b.pricing_expressions


DROP TABLE `ledger_transaction_pricing`;

